<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Motion Recorder</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
      <!-- SETUP -->
    <div id="setup">
      <div id="instruction">Step 1: Enter Your Information
      <img src="img/naturalPosition.png" alt="Hold your phone in a natural position, similar to how you would use it while navigating with a maps application." width="300" height="200">  
    Please enter your name and the model of your smartphone. This information is optional — if you prefer not to share it, you can simply write “unknown”.

    In the next steps, you will perform physical movements while holding your phone in your hand. After completing all steps, you will be able to download your motion data and send it via email to the Virtual UTTOP group. The email address will be shown at the end.

    Important:
    Hold your phone naturally — as if you were using it for navigation while walking.
    Make sure you have enough space to turn, walk, and use a staircase safely.
    Be especially careful when going up or down the stairs.
    The entire session will take around 5 minutes.

    Thank you for your support — and enjoy this short movement session!
    </div>
      <h2>Motion Recorder Setup</h2>
      <input id="name" placeholder="Enter your name">
      <input id="device" placeholder="Enter phone model">
      <button onclick="startExperiment()">OK</button>
    </div>

    <!-- EXPERIMENT -->
    <div id="experiment" style="display:none;">
      <div id="experimentInstruction"></div> 
      <h2 id="stepTitle"></h2>
      <div class="counter" id="counterDisplay"></div>
      <div id="status">Ready.</div>
      <div id="progressContainer"><div id="progressBar"></div></div>
      <div id="motion">Waiting for data...</div>
      <button id="nextButton" onclick="startMeasurement()">Start Measurement</button>
    </div>
    <!-- circle Container left -->
    <div id="circle-container-left"style="display: none;">
      <button id="nextAnimation" onclick="startAnimation(counterClockwise)">Start Training</button>
      <svg width="300" height="300">
        <circle cx="150" cy="150" r="100" stroke="black" stroke-width="2" fill="none"/>
        <line id="vector-left" x1="150" y1="150" x2="250" y2="150" stroke="red" stroke-width="4" />
      </svg>
    </div>  
    <!-- circle Container right -->
    <div id="circle-container-right"style="display: none;">
      <button id="nextAnimation" onclick="startAnimation(clockwise, lastVectorAngle)">Start Training</button>
      <svg width="300" height="300">
        <circle cx="150" cy="150" r="100" stroke="black" stroke-width="2" fill="none"/>
        <line id="vector-right" x1="150" y1="150" x2="250" y2="150" stroke="red" stroke-width="4" />
      </svg>
    </div>  

    <!-- Zwei Buttons für Stairs -->
    <div id="stairs-buttons" style="display: none;">
      <button onclick="startStairsMeasurement('stairs_up')">Start Stairs Up</button>
      <button onclick="startStairsMeasurement('stairs_down')">Start Stairs Down</button>
    </div>


    <!-- DONE -->
    <div id="done" style="display:none;">
      <div id="instruction">Step 15: Send Your Data
    You have completed the session — thank you!

    Now press the Download button to save the recorded motion data as a CSV file.
    Please send the file via email to:

    sebastian.meyer@etudiant.uttop.fr

    Important note:
    If you feel that the movements were not performed correctly, please do not send the data.
    You may repeat the session as many times as you like.
    Feel free to use it as a short and active break in your daily routine.

    Thank you again for your time and your valuable contribution to the Virtual UTTOP project!
    </div>
      <h2>Recording complete</h2>
      <button>⬇ Download CSV</button>
    </div>

  <script src="js/MotionRecorder.js"></script>
  <script>
    const app = new MotionRecorder();
    app.init();
  </script>
</body>
</html>